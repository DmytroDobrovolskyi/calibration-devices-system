<div class="modal-header">
	<h3 class="modal-title">Редагування організації</h3>
</div>

<div class="modal-body">
	<form ng-controller="OrganizationFormController"
		name="organizationForm" novalidate>

		<div class="row">
			<div class="form-group col-md-4">
				<label class="control-label">Назва організації *</label>
			</div>
			<div class="form-group col-md-8" show-errors>
				<input type="text" ng-model="organization.name"
					ng-minlength="3" id="name" name="name" class="form-control"
					required>
			</div>
		</div>

		<div class="row">
			<div class="form-group col-md-4">
				<label class="control-label">Тип організації *</label>
			</div>
			<div class="form-group col-md-8" show-errors>
				<select ng-model="organization.type"
					ng-options="typeInfo.type as typeInfo.name for typeInfo in typeData"
					name="type" class="form-control" required>
					<option value="" style='display: none;' disabled>Виберіть
						тип...</option>
				</select>
			</div>
		</div>

		<div class="row">
			<div class="form-group col-md-4">
				<label class="control-label">Номер телефону *</label>
			</div>
			<div class="form-group col-md-8" show-errors>
				<input type="text" ng-model="organization.phone"
					name="phone" class="form-control" required>
			</div>
		</div>

		<div class="row">
			<div class="form-group col-md-4">
				<label class="control-label">Електронна адреса</label>
			</div>
			<div class="form-group col-md-8">
				<input type="text" ng-model="organization.email"
					name="phone" class="form-control">
			</div>
		</div>

		<div>
			<hr />
			<p class="help-block">Заповніть дані для системного
				адміністратора організації</p>

			<div class="row">
				<div class="form-group col-md-4">
					<label class="control-label">Логін *</label>
				</div>
				<div class="form-group col-md-8" ng-class="usernameValidation.css">
					<input type="text" ng-model="organization.username"
						ng-model-options="{debounce: 350}" ng-change="checkUsername()"
						id="username" name="username" class="form-control" required>
					<p class="help-block" ng-if="!usernameValidation.isValid">{{
						usernameValidation.message }}</p>
				</div>
			</div>

			<div class="row">
				<div class="form-group col-md-4">
					<label class="control-label">Пароль *</label>
				</div>
				<div class="form-group col-md-8" show-errors>
					<input type="password" ng-model="organization.password"
						name="password" class="form-control" required>
				</div>
			</div>

			<div class="row">
				<div class="form-group col-md-4">
					<label class="control-label">Повторіть пароль *</label>
				</div>
				<div class="form-group col-md-8" show-errors>
					<input type="password" ng-model="organization.rePassword"
						name="rePassword" class="form-control" required>
				</div>
			</div>
		</div>
		<hr />

		<div class="row">
			<div class="col-lg-12">
				<div class="panel panel-success">
					<div class="panel-heading">Адреса</div>
					<div class="panel-body">
						<div class="col-lg-12">
							<div class="row">
								<div class="form-group col-md-4">
									<label class="control-label">Область *</label>
								</div>
								<div class="form-group col-md-8">
									<input name="region" type="text"
										ng-model="organization.region"
										typeahead="region as region.designation for region in regions | filter: $viewValue"
										typeahead-on-select="onRegionSelected($root.address.region.id)"
										typeahead-editable="false" class="form-control" required>
								</div>
							</div>

							<div class="row">
								<div class="form-group col-md-4">
									<label class="control-label">Район *</label>
								</div>
								<div class="form-group col-md-8">
									<input name="district" type="text"
										ng-model="organization.district"
										typeahead="district as district.designation for district in districts | filter: $viewValue"
										typeahead-on-select="onDistrictSelected($root.address.district.id)"
										typeahead-editable="false" class="form-control" required>
								</div>
							</div>


							<div class="row">
								<div class="form-group col-md-4">
									<label class="control-label">Населений пункт *</label>
								</div>
								<div class="form-group col-md-8">
									<input name="locality" type="text"
										ng-model="organization.locality"
										typeahead="locality as locality.designation for locality in localities | filter: $viewValue"
										typeahead-on-select="onLocalitySelected($root.address.locality.id)"
										typeahead-editable="false" class="form-control" required>
								</div>
							</div>

							<div class="row">
								<div class="form-group col-md-4">
									<label class="control-label">Вулиця *</label>
								</div>
								<div class="form-group col-md-8">
									<input name="street" type="text"
										ng-model="organization.street"
										typeahead="street as street.designation for street in streets | filter: $viewValue"
										typeahead-on-select="onStreetSelected($root.address.street.id)"
										typeahead-editable="false" class="form-control" required>
								</div>
							</div>

							<div class="row">
								<div class="form-group col-md-4">
									<label class="control-label">Будинок *</label>
								</div>
								<div class="form-group col-md-8">
									<input name="building" type="text"
										ng-model="organization.building"
										typeahead="building as building.designation for building in buildings | filter: $viewValue"
										typeahead-on-select="onBuildingSelected()"
										class="form-control" required>
								</div>
							</div>

							<div class="row">
								<div class="form-group col-md-4">
									<label class="control-label">Квартира</label>
								</div>
								<div class="form-group col-md-8">
									<input name="flat" type="text" ng-model="organization.flat"
										ng-change="$root.updateAddressMessage()" class="form-control"
										required>
								</div>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="form-group col-md-10">
				<button type="submit" class="btn btn-success"
					ng-click="editOrganization()">Змінити</button>
				<a class="btn btn-warning" ng-click="resetOrganizationForm()">Скинути
					форму</a>
			</div>
			<div class="form-group col-md-2">
				<button class="btn btn-danger pull-right" ng-click="closeModal()">Закрити</button>
			</div>
		</div>
	</form>

</div>